micronaut:
  security:
    enabled: true
    oauth2:
      default-provider: oauth
      login-uri: "/{provider}/login/keycloak"
      callback-uri: "/{provider}/callback/keycloak"
      clients:
        google:
          enabled: false
        keycloak:
          grant-type: password
          client-id: TEST
          client-secret: TEST
          authorization:
            url: http://localhost:${PORT}/auth/realms/check-ins-spike/protocol/openid-connect/auth
          token:
            url: http://localhost:${PORT}/auth/realms/check-ins-spike/protocol/openid-connect/token
            auth-method: client-secret-post
    token:
      jwt:
        signatures:
          secret:
            generator:
              secret: pleaseChangeThisSecretForANewOne
              jws-algorithm: HS256
    endpoints:
      logout:
        get-allowed: true
    intercept-url-map:
      -
        pattern: /**
        http-method: GET
        access:
          - isAnonymous()
    reject-not-found: false
    session:
      enabled: true
      login-success-target-url: '/'
      unauthorized-target-url: '/unauthorized'
      forbidden-target-url: '/forbidden'
---
datasources:
  default:
    url:  jdbc:tc:postgresql:///
    driverClassName: org.testcontainers.jdbc.ContainerDatabaseDriver
---
credentials:
  roles:
    SUPER:
      - ADMIN
      - PDL
      - MEMBER
    ADMIN:
      - ADMIN
    PDL:
      - PDL
    MEMBER:
      - MEMBER